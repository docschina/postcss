(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{168:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("一个 PostCSS 插件是一个用于接收或从 PostCSS 编译器中转换 CSS 抽象语法树的函数。")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("另请参阅 [ClojureWerkz的建议] 来了解开源项目。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("对于可作为独立工具运行的插件，此规则不是必需的，没有用户必须知道它是由 PostCSS支持的")]),t._v(" "),a("ul",[a("li",[t._v("例如，"),a("a",{attrs:{href:"http://cssnext.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("cssnext"),a("OutboundLink")],1),t._v("和"),a("a",{attrs:{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer"}},[t._v("Autoprefixer"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("不要创建多工具插件。几个小的，单一用途的插件捆绑在一个插件包中通常是更好的解决方案。")]),t._v(" "),a("p",[t._v("例如，"),a("a",{attrs:{href:"http://cssnext.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("cssnext"),a("OutboundLink")],1),t._v(" 包含许多小插件，每个 W3C 规范对应一个。 "),a("a",{attrs:{href:"https://github.com/ben-eb/cssnano",target:"_blank",rel:"noopener noreferrer"}},[t._v("cssnano"),a("OutboundLink")],1),t._v(" 针对每个优化包含一个单独的插件。")]),t._v(" "),t._m(7),t._v(" "),a("p",[t._v("预处理器如 Compass 会提供一个带有 mixins 的 API。")]),t._v(" "),a("p",[t._v("PostCSS 插件则不同。")]),t._v(" "),a("p",[t._v("一个插件不能只是 "),a("a",{attrs:{href:"https://github.com/postcss/postcss-mixins",target:"_blank",rel:"noopener noreferrer"}},[t._v("postcss-mixins"),a("OutboundLink")],1),t._v(" 的一组mixins。要实现您的目标，请考虑转换有效的CSS或使用自定义的规则和自定义属性。")]),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("通过将函数包装在此方法中，你正在接入一个常见的插件API：")]),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),a("p",[t._v("一个像 "),a("a",{attrs:{href:"https://travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis"),a("OutboundLink")],1),t._v(" 的 持续集成服务被推荐用于在不同的环境中测试代码。你（至少）应该在 Node.js 的 "),a("a",{attrs:{href:"https://github.com/nodejs/LTS",target:"_blank",rel:"noopener noreferrer"}},[t._v("active LTS"),a("OutboundLink")],1),t._v("  和当前稳定版本中测试。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),a("p",[t._v("PostCSS插件不能依赖于未记录的属性或方法，在任何次要版本中可能会有所变化。公共API\n在"),a("a",{attrs:{href:"http://api.postcss.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("API docs"),a("OutboundLink")],1),t._v("中描述。")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),a("p",[t._v('PostCSS 插件必须用英文写好 "README.md"。不要害怕你的英语技能，因为开源社区将会修复你的错误。')]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),a("p",[a("code",[t._v("README.md")]),t._v(" 的第一部份是放置例子的好地方。看 "),a("a",{attrs:{href:"https://github.com/iamvdo/postcss-opacity",target:"_blank",rel:"noopener noreferrer"}},[t._v("postcss-opacity"),a("OutboundLink")],1),t._v(" 为例。")]),t._v(" "),a("p",[t._v("当然，如果你的插件不是用于转换 CSS，则本指引将不适用于你的插件。")]),t._v(" "),t._m(35),t._v(" "),a("p",[t._v("PostCSS 插件必须在一个单独的文件里，例如"),a("code",[t._v("CHANGELOG.md")]),t._v(", "),a("code",[t._v("History.md")]),t._v(", 或 "),a("a",{attrs:{href:"https://help.github.com/articles/creating-releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Releases"),a("OutboundLink")],1),t._v(" 描述它们所有的变更。访问 "),a("a",{attrs:{href:"http://keepachangelog.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Keep A Changelog"),a("OutboundLink")],1),t._v(" 获取更多有关如何写变更日志的信息。")]),t._v(" "),a("p",[t._v("当然，你应该使用 "),a("a",{attrs:{href:"http://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("SemVer"),a("OutboundLink")],1),t._v(" 描述版本号.")]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),a("p",[t._v("那些没被发布到 npm 平台的插件，这个不是强制的，但建议采纳如果插件格式能包括该关键词。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"postcss-插件指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#postcss-插件指南","aria-hidden":"true"}},[this._v("#")]),this._v(" PostCSS 插件指南")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对所有的 PostCSS 插件，下列的规则都是 "),s("strong",[this._v("强制的")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-api","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-1-带有-postcss-前缀的清晰的命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-带有-postcss-前缀的清晰的命名","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 带有 "),s("code",[this._v("postcss-")]),this._v(" 前缀的清晰的命名")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("插件的用图应该单凭其名字就能清晰知晓。如果你写一个编译器用于 CSS 4 自定义媒体属性，"),s("code",[this._v("postcss-custom-media")]),this._v("会是一个好名字。\n如果你写一个插件用于支持 mixins，"),s("code",[this._v("postcss-mixins")]),this._v(" 会是一个好名字。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("前缀 "),s("code",[this._v("postcss-")]),this._v(" 显示，该插件是 PostCSS 生态系统的一部份。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-只做一件事，并将它做好"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-只做一件事，并将它做好","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2. 只做一件事，并将它做好")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-不要使用-mixins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-不要使用-mixins","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3. 不要使用 mixins")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-4-通过-postcss-plugin-创建插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-通过-postcss-plugin-创建插件","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.4. 通过 "),s("code",[this._v("postcss.plugin")]),this._v(" 创建插件")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" postcss"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("plugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'plugin-name'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// 插件代码")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-加工"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-加工","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 加工")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-插件必须要被测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-插件必须要被测试","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1. 插件必须要被测试")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-如有可能请使用异步方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-如有可能请使用异步方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2. 如有可能请使用异步方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("譬如，使用 "),s("code",[this._v("fs.writeFile")]),this._v(" 而不是 "),s("code",[this._v("fs.writeFileSync")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("postcss"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("plugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'plugin-sprite'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sprite "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("makeSprite")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            fs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("writeFile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" err "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("reject")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-3-为新的节点设置-node-source"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-为新的节点设置-node-source","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.3. 为新的节点设置 "),s("code",[this._v("node.source")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("每一个节点必须有一个相关的 "),s("code",[this._v("source")]),this._v("，那样 PostCSS 才能生成一个精确的 source map。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("因此，如果你基本现存的声明新增声明，你应该拷贝现存的声明以保存原有的 "),s("code",[this._v("source")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("needPrefix")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("cloneBefore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" prop"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'-webkit-'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("你也可以直接设置 "),s("code",[this._v("source")]),this._v("，从现存的节点中复制：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'animation'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" keyframe "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createAnimationByName")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    keyframes"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("source "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("source"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("root")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("append")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyframes"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-4-请只使用公开的-postcss-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-请只使用公开的-postcss-api","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4. 请只使用公开的 PostCSS API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3-错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-错误","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 错误")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-1-对-css-相关错误使用node-error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-对-css-相关错误使用node-error","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1. 对 CSS 相关错误使用"),s("code",[this._v("node.error")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果由于输入CSS而导致错误（如未知名称）在mixin插件中）你应该使用"),s("code",[this._v("node.error")]),this._v("来创建一个错误\n包括来源位置：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" mixins"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'undefined'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("error")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'Unknown mixin '")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" plugin"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'postcss-mixins'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-2-对警告使用-result-warn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-对警告使用-result-warn","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2. 对警告使用 "),s("code",[this._v("result.warn")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请不要用 "),s("code",[this._v("console.log")]),this._v(" 或者 "),s("code",[this._v("console.warn")]),this._v(" 输出警告, 因为有些 PostCSS runner 可能不允许 console 的输出。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("outdated")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    result"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("warn")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("decl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("' is outdated'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" node"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" decl "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果 CSS 的输入是警告的来源，插件应该设置 "),s("code",[this._v("node")]),this._v(" 选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4-文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. 文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-1-用英文给你的插件写文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-用英文给你的插件写文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1. 用英文给你的插件写文档")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当然，也欢迎你用其它语言写文档，但请恰当地对文件全名（比如："),s("code",[this._v("README.ja.md")]),this._v("）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-2-包括输入与输出例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-包括输入与输出例子","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2. 包括输入与输出例子")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("插件的 "),s("code",[this._v("README.md")]),this._v(" 必须包括输入与输出的 CSS。一个清楚的例子是最好的描述你的插件运行的办法。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-3-维护一个变更日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-维护一个变更日志","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.3. 维护一个变更日志")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-4-在-package-json-包含-postcss-plugin-关键词"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-在-package-json-包含-postcss-plugin-关键词","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.4. 在 "),s("code",[this._v("package.json")]),this._v(" 包含 "),s("code",[this._v("postcss-plugin")]),this._v(" 关键词")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将 PostCSS 插件写成 npm 类库必须在 "),s("code",[this._v("package.json")]),this._v(" 中包含 "),s("code",[this._v("postcss-plugin")]),this._v(" 关键词。这个特别的关键词将对 PostCSS 生态的反馈非常有用。")])}],!1,null,null,null);e.options.__file="plugin.md";s.default=e.exports}}]);